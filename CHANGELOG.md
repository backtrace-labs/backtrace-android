# Backtrace Android Release Notes

## Version 3.8.4
- Add getter method for `BacktraceReport` field in `BacktraceData` class
- Update libraries (GSON and androidx.test.*)
- Bugfix for ConcurrentModificationException when deleting records from BacktraceDatabaseContext within the BacktraceHandlerThread
- Remove unsupported Android Manifest package value in Example App
- Add custom debug logger - introduces support for replacing the internal logger of the Backtrace Android SDK with a custom implementation.
- Add debug log with measured time of loading db, native integration setup and enabling metrics
- Fix license description in POM

## Version 3.8.3
- Update native crash repeating to a new strategy. Now we don't require to extract native executables.
- Add a new native crash handler that allows to generate a crash dump by using Java class name
- Update Gradle to 8.3.0
- Update GSON to 2.10.1 in coroner-client
- Optimize imports

## Version 3.8.2

- Improve handling of immutable collections (attributes and attachments) in BacktraceBase and BacktraceReport

## Version 3.8.1

- Bugfix for initialization BacktraceMetrics with custom server

## Version 3.8.0

- Update crashpad to latest version 

## Version 3.7.14

- Added a new attribute API to the BacktraceClient.

## Version 3.7.13

- BacktraceExceptionHandler will catch Errors (not only Exception) when unhandled Throwable will happen

## Version 3.7.12

- Fixed bug when exception contains base class with same field

## Version 3.7.11

- Fix NPE in DatabaseContext
- Add session attribute and backtrace reporter name to every error report

## Version 3.7.10

- Add integration tests
- Move common http response processing method to helper class
- Remove unused code
- Add abstraction to gson serialization
- Improve example-app Main Activity to work in same way on different Android versions

## Version 3.7.9

- Fixed problem when thread is trying to delete already deleted record from db context

## Version 3.7.8

- Fixed missing breadcrumbs intent filter in SDK 33+.

## Version 3.7.7

- Added a new attribute to native reports - `breadcrumbs.lastId`
- Fixed invalid `BacktraceCredentials` behavior when the user passed an invalid Backtrace URL
- Capture invalid native crash reporting handler path in the initialize method
- Replaced androidx's ContextCompat with Context when checking for self permissions and handled permissions for versions prior to Android 6.0
- Replaced deprecated BluetoothAdapter with BluetoothManager
- Added missing ACCESS_WIFI_STATE and BLUETOOTH permissions to example app and Tests
- Replaced androidx NonNull with jetbrains NotNull annotation
- Use "Unhandled Exception" error type in the unhnadled exception handler callback

## Version 3.7.6

- Maintenance: Update various components to latest versions
- Maintenance: Update gradle
- Bugfix: Fix enabling breadcrumbs when not available
- Add breadcrumb when ANR is detected

## Version 3.7.5

- Maintenance: Update various components to latest versions
- Bugfix: Managed and native reports generated by the same user now have the same `guid`
- Backtrace metrics support - now the interface doesn't require to use `BacktraceCredentials` anymore
- Upgraded native crash reporter. The new version should capture crashes generated by the newest version of SDK
- Maintenance: CI job improvements
- Bugfix: Handle corrupt or empty database records

## Version 3.7.4

- Feature: migrated to AndroidX
- Improvement: removed READ_EXTERNAL_STORAGE permission from library AndroidManifest.xml

## Version 3.7.3

- Bug: Crashpad attachment syntax changed

## Version 3.7.2

- Bug: Fix issue rolling over Breadcrumb file
- Feature: update gradle to latest
- Feature: integrate crashpad via cmake
- Improvement: Make local.properties optional
- Improvement: Cleanup build scripts for speed

## Version 3.7.1 - 14.06.2022

- Error type "crash" only on unhandled exceptions from main thread for other threads - error type will be "unhandled exception"

## Version 3.7.0 - 28.04.2022

- Added error.type attribute that shows type of the report
- Added backtrace.version attribute that shows Backtrace agent version

## Version 3.6.0 - 29.1.2022

- Added error-free metrics
- Added method to disable native crash reporting
- Fixed Crashpad initialization failure in Samsung A20
- Support for API 16+
- Prevent duplicate ANR reports
- GitHub actions CICD support

## Version 3.5.0 - 14.09.2021

- Added support for native crash reporting in NDK 16b
- Bug fixes and expanded supported NDK versions for client side unwinding

## Version 3.4.0 - 07.09.2021

- Added support for NDK 22

## Version 3.3.0 - 15.07.2021

- Added support for client side unwinding of native crashes

## Version 3.2.2 - 10.03.2021

- Hotfix for crash when user enables native integration without file attachments

## Version 3.2.1 - 09.03.2021

- Native crashes now support custom attributes
- Improved file attachment support for managed and native crashes
- Fixed file attachments bug in BacktraceDatabaseRecord

## Version 3.2.0 - 02.03.2021

- Added Breadcrumbs feature to give Backtrace users context leading up to a `BacktraceReport`
- Improved support for Proguard

## Version 3.1.0 - 29.09.2020

- Backtrace Android allows to capture native crashes from Android NDK code. To enable NDK crashes exception handler use `setupNativeIntegration` method and pass backtraceClient with credentials.

```java
database.setupNativeIntegration(backtraceClient, credentials);
```

## Version 3.0.2 - 23.01.2020

- Fixed checking internal path during filtering attachments

## Version 3.0.1 - 15.01.2020

- Fixed setting custom global attributes on BacktraceClient
- Added support for custom attributes to BacktraceExceptionHandler

## Version 3.0.0 - 03.12.2019

- Added support for `submit.backtrace.io` urls
- Moved generating a server url from BacktraceApi to BacktraceCredentials
- Refactored name of below libraries interfaces:
  - IBacktraceApi -> Api
  - IBacktraceClient -> Client
  - IBacktraceDatabase -> Database
  - IBacktraceDatabaseRecordWriter -> DatabaseRecordWriter
  - IBacktraceDatabaseFileContext -> DatabaseFileContext
  - IBacktraceDatabaseContext -> DatabaseContext

## Version 2.1.0 - 16.06.2019

- Added support for detecting ANR (Application Not Responding)
- Added methods and structures to detecting blocked custom threads

## Version 2.0.0 - 06.05.2019

- Removed `sendAsync` method
- Removed event `OnAfterSendEventListener`
- Moved event `OnServerResponseEventListener` to parameter of `send` method
- Created dedicated thread to sending HTTP requests to server what caused the removal of AsyncTasks, speeding up the library and fixing errors related to creating threads when closing the application
- Added `BacktraceLogger` to debug the flow of library code execution
- Removed deprecated and unused code

## Version 1.2.1 - 12.04.2019

- Added check is temperature file is empty and remove print stacktrace
- Changed attribute name `app.version_name` to `version`

## Version 1.2.0 - 07.04.2019

- `BacktraceDatabase` - offline error report storage and auto re-submission support in the event of network outage and server unavailability,

## Version 1.1.2 - 07.03.2019

- Added class name to function name in exception StackFrame
- Added exception message to annotations

## Version 1.1.1 - 26.02.2019

- Fixed exception on filter out Backtrace files from StackTraceElements when file name is null

## Version 1.1.0 - 25.02.2019

- Added support for file attachments and annotations
- Added battery level and status attributes
- Added screen brightness attribute
- Fixed Android version attribute
- Fixed bug with negative number of lines in stacktrace
- Filtered out the frames from the Backtrace library
- Simplified BacktraceClient class, removed 'send' and 'async' methods overwrites
- Replaced spaces with underscore in all enums strings

## Version 1.0 - 27.01.2019

- First release.
